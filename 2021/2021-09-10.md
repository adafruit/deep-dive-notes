Join Scott today as he opens a package of goodies and checks out the ESP32-S3 dev board and starts prepping CircuitPython for it. Visit the Adafruit shop online - http://www.adafruit.com


Thanks to @dcd for the notes

* 0:00 Getting Started
* 0:04:00 Housekeeping
* 0:07:13 CI merges from last week got merged into main
* 0:09:11 NRF fixes for GCC 11
* 0:10:00 TODO: Learn guide needs to be updated
* 0:10:47 Youtube low latencies settings/question
* 0:11:45 tools/ci_changed_board_list.py in pull #5312
* 0:13:30 ​For my own fork before a PR, does that mean that only my new board will build? 1 instead of 190?
* 0:15:25 HDMI Video Capture
* 0:17:05 ESP S3 dev board S3-DevKit-M
* 0:23:09 Find the data sheet / get it building / get usb working
* 0:28:10 create git branch esp32_s3
* 0:29:20 figure out a new name for esp32s2  ( maybe espressif )
* 0:30:30 update esp-idf  ( submodule master )
* 0:32:40 update other submodules and examine espressif github pages
* 0:34:30 some git reset --hard HEAD
* 0:35:25 python virtual build environments
* 0:36:23 make and commit
* 0:37:20 this would be easy if we did cmake :-)
* 0:37:50 rust cli find “fd” ( where did esp_sleep.h move to?)
* 0:40:20 assuming the moved files have the “same” content
* 0:41:11 hal/platform_port
* 0:42:25 for now, just include the S2 includes
* 0:44:45 building S2 libraries
* 0:46:45 Adding a board to CP is much simpler
* 0:47:14 ​Can you talk about the architecture/partitioning of circuitpython on ESP32 a bit? How does CIrcuitpython work with the RTOS in the ESP?  I’ve been wondering if it would be easy-ish to have Circuitpython running on a core of an STM32 with the other core doing communications
* 0:48:45 Ivan Grokhotkov​ said: “the linker scripts got moved around... recommend you to run a hello-world build and check the linker arguments there.”
* 0:56:05 More compile errors to fix
* 0:58:50 UM: “make to cmake comparison - I got MP booting to repl on s3 in about 50mins - I spent 3 days on CPY and cold not boot the firmware I built”
* 1:00:30 zephyr is also using CMake.. ( and kconfig … )
* 1:04:30 talking about variations... what's your take on "optimized" builds for the samd21? Take things out of the "generic" Xiao and swap in keyboard specific stuff? The idea of multiple versions isn't great
* 1:05:44 transition to CMake would need to be 100% all ports
* 1:11:00 bare metal ninja ( ninja and python )
* 1:13:30 back out of the last rabbit hole
* 1:22:35 Delete the libraries that the build can’t find
* 1:24:15 “Wait you do S3, and I have a C3?” - C3 doesn’t have native USB
Ivan says: “C3 USB is not programmable, it's a fixed function peripheral which knows how to do CDC and JTAG only. So no mass storage flashing support on C3, I'm afraid”
* 1:26:00 ​Since the esp32s3 has two cores, is threading going to be included in the future?
* 1:27:45 Research the “hello world” linker scripts -  LINK_LIBRARIES
* 1:38:30 how to build sections.ld
* 1:40:30 nothing wrong with using different editors
* 1:43:50 begin resolving the linker errors
* 1:44:29 Deep Dive notes repo https://github.com/adafruit/deep-dive...
* 1:48:50 Who ever put tape on (the standoffs)
* 1:52:30 we got output! ( linked! )
* 1:54:15 Commit the changes for idf esp-idf-4.4
* 1:57:05 protomatter submodules
* 1:58:00 Git push tannewt esp32_s3 https://github.com/tannewt/circuitpyt...
* 1:58:25 next week more BLE stuff
* 1:59:30 wrap up / next week on Friday
* 2:02:30 out

-----------------------------------------
LIVE CHAT IS HERE! http://adafru.it/discord

Adafruit on Instagram: https://www.instagram.com/adafruit

Subscribe to Adafruit on YouTube: http://adafru.it/subscribe

New tutorials on the Adafruit Learning System: http://learn.adafruit.com/
